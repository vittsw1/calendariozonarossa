<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario Raccolta Rifiuti Cazzago - Zona Rossa</title>

    <!-- Meta tags for sharing (Open Graph) -->
    <meta property="og:title" content="Calendario Raccolta Rifiuti Cazzago - Zona Rossa">
    <meta property="og:description" content="Consulta il calendario della raccolta differenziata.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://placehold.co/1200x630/ef4444/ffffff?text=Calendario+Rifiuti+Cazzago+-+Zona+Rossa">
    <meta property="og:url" content="#">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .nav-btn:focus {
            outline: 2px solid #f87171; /* Red-400 */
            outline-offset: 2px;
        }
    </style>
</head>
<body class="bg-red-500 flex items-center justify-center min-h-screen"> <!-- Sfondo rosso intenso -->
    <div class="w-full max-w-2xl mx-auto p-4 sm:p-6">
        <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-8 text-center">
            <!-- Header Section -->
            <div class="flex justify-center mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500"><path d="M8 2v4"></path><path d="M16 2v4"></path><path d="M3.5 9.09h17"></path><path d="M21 8.5V20a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8.5"></path><path d="M12 18h.01"></path><path d="M12 14h.01"></path><path d="M16 18h.01"></path><path d="M16 14h.01"></path><path d="M8 18h.01"></path><path d="M8 14h.01"></path></svg>
            </div>
            
            <h1 class="text-3xl sm:text-4xl font-bold text-red-600 mb-2">ZONA ROSSA</h1>
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4" id="current-day-display"></h2>
            
            <!-- Schedule Display -->
            <div class="bg-red-50 rounded-lg p-4 sm:p-6 mt-4 border border-red-200 min-h-[100px] flex items-center justify-center">
                <p class="text-lg sm:text-xl text-gray-700" id="collection-schedule"></p>
            </div>

            <!-- Navigation Buttons -->
            <div class="flex items-center justify-between mt-8">
                <button id="prev-day" class="nav-btn bg-gray-200 text-gray-700 hover:bg-gray-300 font-bold p-3 rounded-full transition-transform transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
                </button>
                <button id="go-to-today" class="nav-btn bg-red-500 text-white hover:bg-red-600 font-semibold py-2 px-6 rounded-lg transition-transform transform hover:scale-105">
                    Oggi
                </button>
                <button id="next-day" class="nav-btn bg-gray-200 text-gray-700 hover:bg-gray-300 font-bold p-3 rounded-full transition-transform transform hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
                </button>
            </div>
            
            <!-- Sezione IA rimossa -->
            
        </div>
    </div>
    
    <!-- Modale IA rimosso -->

    <script>
        // --- DATA AND STATE ---
        const schedule = {
            // APRILE 2025
            "2025-04-01": "UO", "2025-04-02": "C", "2025-04-03": "S", "2025-04-04": "UO", "2025-04-07": "VL", "2025-04-08": "UO VR", "2025-04-11": "UO", "2025-04-14": "P", "2025-04-15": "UO", "2025-04-16": "C", "2025-04-17": "S", "2025-04-18": "UO", "2025-04-22": "UO VR", "2025-04-25": "UO (Liberazione)", "2025-04-28": "P", "2025-04-29": "UO", "2025-04-30": "C",
            // MAGGIO 2025
            "2025-05-01": "S (Festa del Lavoro)", "2025-05-02": "UO", "2025-05-05": "VL", "2025-05-06": "UO VR", "2025-05-09": "UO", "2025-05-12": "P", "2025-05-13": "UO", "2025-05-14": "C", "2025-05-15": "S", "2025-05-16": "UO", "2025-05-20": "UO VR", "2025-05-23": "UO", "2025-05-26": "P", "2025-05-27": "UO", "2025-05-28": "C", "2025-05-29": "S", "2025-05-30": "UO",
            // GIUGNO 2025
            "2025-06-02": "VL (Repubblica)", "2025-06-03": "UO VR", "2025-06-06": "UO", "2025-06-09": "P", "2025-06-10": "UO", "2025-06-11": "C", "2025-06-12": "S", "2025-06-13": "UO", "2025-06-17": "UO VR", "2025-06-20": "UO", "2025-06-23": "P", "2025-06-24": "UO", "2025-06-25": "C", "2025-06-26": "S", "2025-06-27": "UO", "2025-06-30": "VL",
            // LUGLIO 2025
            "2025-07-01": "UO VR", "2025-07-04": "UO", "2025-07-07": "P", "2025-07-08": "UO", "2025-07-09": "C", "2025-07-10": "S", "2025-07-11": "UO", "2025-07-15": "UO VR", "2025-07-18": "UO", "2025-07-21": "P", "2025-07-22": "UO", "2025-07-23": "C", "2025-07-24": "S", "2025-07-25": "UO", "2025-07-28": "VL", "2025-07-29": "UO VR",
            // AGOSTO 2025
            "2025-08-01": "UO", "2025-08-04": "P", "2025-08-05": "UO", "2025-08-06": "C", "2025-08-07": "S", "2025-08-08": "UO", "2025-08-12": "UO VR", "2025-08-15": "UO (Ferragosto)", "2025-08-18": "P", "2025-08-19": "UO", "2025-08-20": "C", "2025-08-21": "S", "2025-08-22": "UO", "2025-08-25": "VL", "2025-08-26": "UO VR", "2025-08-29": "UO",
            // SETTEMBRE 2025
            "2025-09-01": "P", "2025-09-02": "UO", "2025-09-03": "C", "2025-09-04": "S", "2025-09-05": "UO", "2025-09-09": "UO VR", "2025-09-12": "UO", "2025-09-15": "P", "2025-09-16": "UO", "2025-09-17": "C", "2025-09-18": "S", "2025-09-19": "UO", "2025-09-22": "VL", "2025-09-23": "UO VR", "2025-09-26": "UO", "2025-09-29": "P", "2025-09-30": "UO",
            // OTTOBRE 2025
            "2025-10-01": "C", "2025-10-02": "S", "2025-10-03": "UO", "2025-10-07": "UO VR", "2025-10-10": "UO", "2025-10-13": "P", "2025-10-14": "UO", "2025-10-15": "C", "2025-10-16": "S", "2025-10-17": "UO", "2025-10-20": "VL", "2025-10-21": "UO VS", "2025-10-24": "UO", "2025-10-27": "P", "2025-10-28": "UO", "2025-10-29": "C", "2025-10-30": "S", "2025-10-31": "UO",
            // NOVEMBRE 2025
            "2025-11-04": "UO VR", "2025-11-07": "UO", "2025-11-10": "P", "2025-11-11": "UO", "2025-11-12": "C", "2025-11-13": "S", "2025-11-14": "UO", "2025-11-17": "VL", "2025-11-18": "UO VR", "2025-11-21": "UO", "2025-11-24": "P", "2025-11-25": "UO", "2025-11-26": "C", "2025-11-27": "S", "2025-11-28": "UO",
            // DICEMBRE 2025
            "2025-12-02": "UO", "2025-12-05": "UO", "2025-12-08": "P (Immacolata Conc.)", "2025-12-09": "UO", "2025-12-10": "C", "2025-12-11": "S", "2025-12-12": "UO", "2025-12-15": "VL", "2025-12-16": "UO VR", "2025-12-19": "UO", "2025-12-22": "P", "2025-12-23": "UO", "2025-12-24": "C", "2025-12-26": "UO (S. Stefano)", "2025-12-28": "S", "2025-12-30": "UO",
            // GENNAIO 2026
            "2026-01-02": "UO", "2026-01-05": "P", "2026-01-06": "UO (Epifania)", "2026-01-07": "C", "2026-01-08": "S", "2026-01-09": "UO", "2026-01-12": "VL", "2026-01-13": "UO VR", "2026-01-16": "UO", "2026-01-19": "P", "2026-01-20": "UO", "2026-01-21": "C", "2026-01-22": "S", "2026-01-23": "UO", "2026-01-26": "P", "2026-01-27": "UO", "2026-01-30": "UO",
            // FEBBRAIO 2026
            "2026-02-02": "P", "2026-02-03": "UO", "2026-02-04": "C", "2026-02-05": "S", "2026-02-06": "UO", "2026-02-09": "VL", "2026-02-10": "UO VR", "2026-02-13": "UO", "2026-02-16": "P", "2026-02-17": "UO", "2026-02-18": "C", "2026-02-19": "S", "2026-02-20": "UO", "2026-02-23": "P", "2026-02-24": "UO", "2026-02-27": "UO",
            // MARZO 2026
            "2026-03-02": "P", "2026-03-03": "UO", "2026-03-04": "C", "2026-03-05": "S", "2026-03-06": "UO", "2026-03-09": "VL", "2026-03-10": "UO VS", "2026-03-13": "UO", "2026-03-16": "P", "2026-03-17": "UO", "2026-03-18": "C", "2026-03-19": "S", "2026-03-20": "UO", "2026-03-23": "P", "2026-03-24": "UO VR", "2026-03-27": "UO", "2026-03-30": "P", "2026-03-31": "UO"
        };
        
        const collectionMap = {
            'UO': 'UO (Frazione Organica)', 
            'S': 'S (Rifiuto Secco)', 
            'C': 'C (Carta Cartone Tetrapak)', 
            'P': 'P (Plastica)', 
            'VR': 'VR (Verde)', 
            'VL': 'VL (Vetro Lattine)', 
            'UO VL': 'UO (Frazione Organica) e VL (Vetro Lattine)', 
            'VS': 'VS (Raccolta straordinaria del verde)',
            'UO VR': 'UO (Frazione Organica) e VR (Verde)',
            'UO VS': 'UO (Frazione Organica) e VS (Raccolta straordinaria del verde)'
        };

        let currentDate = new Date();
        let currentCollectionDescription = "Nessuna raccolta";

        // --- DOM ELEMENTS ---
        const currentDayDisplay = document.getElementById('current-day-display');
        const collectionScheduleEl = document.getElementById('collection-schedule');

        // --- CALENDAR LOGIC ---
        function updateDisplay() {
            const displayOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const today = new Date(); today.setHours(0,0,0,0);
            const tomorrow = new Date(today); tomorrow.setDate(today.getDate() + 1);
            
            let datePrefix = '';
            const normalizedCurrentDate = new Date(currentDate); normalizedCurrentDate.setHours(0,0,0,0);

            if (normalizedCurrentDate.getTime() === today.getTime()) datePrefix = 'Oggi, ';
            else if (normalizedCurrentDate.getTime() === tomorrow.getTime()) datePrefix = 'Domani, ';
            
            let formattedDate = currentDate.toLocaleDateString('it-IT', displayOptions);
            formattedDate = datePrefix + formattedDate.charAt(0).toUpperCase() + formattedDate.slice(1);
            currentDayDisplay.innerText = formattedDate;

            const scheduleKey = `${currentDate.getFullYear()}-${String(currentDate.getMonth() + 1).padStart(2, '0')}-${String(currentDate.getDate()).padStart(2, '0')}`;
            const collectionCode = schedule[scheduleKey];
            
            currentCollectionDescription = "Nessuna raccolta";
            if (collectionCode) {
                // Gestisco le note tra parentesi (es. UO (Liberazione) -> UO)
                const cleanCode = collectionCode.split(' ')[0];
                currentCollectionDescription = collectionMap[collectionCode] || collectionMap[cleanCode] || collectionCode;
                
                // Aggiungo la nota se presente
                if (collectionCode.includes('(')) {
                    currentCollectionDescription += ` ${collectionCode.substring(collectionCode.indexOf('('))}`;
                }
            }

            collectionScheduleEl.innerHTML = `Ãˆ prevista la raccolta di: <br><span class="font-bold text-red-600 text-xl sm:text-2xl mt-2 block">${currentCollectionDescription}</span>`;
        }

        // --- EVENT LISTENER ---
        document.getElementById('next-day').addEventListener('click', () => { currentDate.setDate(currentDate.getDate() + 1); updateDisplay(); });
        document.getElementById('prev-day').addEventListener('click', () => { currentDate.setDate(currentDate.getDate() - 1); updateDisplay(); });
        document.getElementById('go-to-today').addEventListener('click', () => { currentDate = new Date(); updateDisplay(); });
        
        // --- INITIALIZATION ---
        window.onload = updateDisplay;
    </script>
</body>
</html>

